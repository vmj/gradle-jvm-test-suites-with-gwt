plugins {
	id 'war'
	id 'org.docstr.gwt' version '2.1.4'
	id 'com.github.sahara3.tomcat-runner' version '0.3.0'
}

repositories {
	mavenCentral()
}

gwt {
	modules = ['org.example.MyModule']
}

tomcat {
	version = '9.0.86'
	port = 8080

	webapp(project) {
		contextPath = 'app'
	}
}



tasks.register('gwtClientResources', Sync) {
	from gwtCompile.war
	into layout.buildDirectory.dir('tomcat/webapps/app')
}
tomcatRun {
	dependsOn gwtClientResources
}

